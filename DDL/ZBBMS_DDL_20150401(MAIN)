--zbbms@20150401 drop table - START
DROP TABLE T_MT_STATIO;
DROP TABLE T_MT_STTYPE;
DROP TABLE T_TRANSACTION;
DROP TABLE T_MT_TRANTYPE;
DROP TABLE T_MT_EMPLOYEE;
DROP TABLE T_MT_ROLE;
DROP TABLE T_MT_BOOK;
DROP TABLE T_MT_BKTYPE;
DROP TABLE T_MT_SUPPLIER;
DROP TABLE T_MT_SPTYPE;
DROP TABLE T_MT_PUBLI;
DROP TABLE T_MT_AUTHOR;
DROP TABLE T_MT_CUSTOMER;
DROP TABLE T_MT_DISCOUNT;
--zbbms@20150401 drop table - END

--zbbms@20150401 create transaction type table - START
CREATE TABLE T_MT_TRANTYPE (
ID VARCHAR2(32),
NAME VARCHAR2(30),
CD VARCHAR2(4),
CONSTRAINT PK_TRANTYPE_ID PRIMARY KEY(ID),
CONSTRAINT UK_TRANTYPE_CD UNIQUE(CD)
);
--zbbms@20150401 create transaction type table - END

--zbbms@20150401 create supplier type table - START
CREATE TABLE T_MT_SPTYPE (
ID VARCHAR2(32),
NAME VARCHAR2(30),
CD VARCHAR2(4),
CONSTRAINT PK_SPTYPE_ID PRIMARY KEY(ID),
CONSTRAINT UK_SPTYPE_CD UNIQUE(CD)
);
--zbbms@20150401 create supplier type table - END

--zbbms@20150401 create supplier table - START
CREATE TABLE T_MT_SUPPLIER (
ID VARCHAR2(32),
NAME VARCHAR2(30),
SUPPID VARCHAR2(32),
ADDRESS VARCHAR2(80),
CD VARCHAR2(4),
CONSTRAINT PK_SUPPLIER_ID PRIMARY KEY(ID),
CONSTRAINT UK_SUPPLIER_CD UNIQUE(CD),
CONSTRAINT FK_SPSPTYPE_TYPE FOREIGN KEY (SUPPID) REFERENCES T_MT_SPTYPE(ID)
);
--zbbms@20150401 create supplier table - END

--zbbms@20150401 create book type table - START
CREATE TABLE T_MT_BKTYPE (
ID VARCHAR2(32),
NAME VARCHAR2(30),
CD VARCHAR2(4),
CONSTRAINT PK_BKTYPE_ID PRIMARY KEY(ID),
CONSTRAINT UK_BKTYPE_CD UNIQUE(CD)
);
--zbbms@20150401 create book type table - END

--zbbms@20150401 create stationery type table - START
CREATE TABLE T_MT_STTYPE (
ID VARCHAR2(32),
NAME VARCHAR2(30),
CD VARCHAR2(4),
CONSTRAINT PK_STTYPE_ID PRIMARY KEY(ID),
CONSTRAINT UK_STTYPE_CD UNIQUE(CD)
);
--zbbms@20150401 create stationery type table - END

--zbbms@20150401 create stationery table - START
CREATE TABLE T_MT_STATIO (
ID VARCHAR2(32),
NAME VARCHAR2(30),
TYPEID VARCHAR2(32),
PRICE NUMBER(5,2),
STOCK NUMBER,
CD VARCHAR2(4),
CONSTRAINT PK_STATIO_ID PRIMARY KEY(ID),
CONSTRAINT UK_STATIO_CD UNIQUE(CD),
CONSTRAINT FK_BKSTTYPE_TYPE FOREIGN KEY (TYPEID) REFERENCES T_MT_STTYPE(ID)
);
--zbbms@20150401 create stationery table - END

--zbbms@20150409 create publication table - START
CREATE TABLE T_MT_PUBLI (
ID VARCHAR2(32),
NAME VARCHAR2(50),
ADDRESS VARCHAR2(80), 
PHONE VARCHAR2(10), 
EMAIL VARCHAR2(30),             
WEBSITE VARCHAR2(30),
CD VARCHAR2(4), 
CONSTRAINT PK_PUBLI_ID PRIMARY KEY(ID),
CONSTRAINT UK_PUBLI_CD UNIQUE(CD)
);
--zbbms@20150409 create publication table - END

--zbbms@20150409 create author table - START
CREATE TABLE T_MT_AUTHOR (
ID VARCHAR2(32),
NAME VARCHAR2(50),
ADDRESS VARCHAR2(80), 
PHONE VARCHAR2(10), 
EMAIL VARCHAR2(30),             
CD VARCHAR2(4), 
CONSTRAINT PK_AUTHOR_ID PRIMARY KEY(ID),
CONSTRAINT UK_AUTHOR_CD UNIQUE(CD)
);
--zbbms@20150409 create author table - END

--zbbms@20150401 create book table - START
CREATE TABLE T_MT_BOOK (
ID VARCHAR2(32),
TITLE VARCHAR2(50),
DESCRIPTION VARCHAR2(80),
AUTHORID VARCHAR2(32),
PID VARCHAR2(32),
BOOKTYPE VARCHAR(32),
PRICE NUMBER(5,2),
STOCK NUMBER,
CD VARCHAR2(4),
CONSTRAINT PK_BK_ID PRIMARY KEY(ID),
CONSTRAINT UK_BK_CD UNIQUE(CD),
CONSTRAINT FK_BKPUBLI_PUBLI FOREIGN KEY (PID) REFERENCES T_MT_PUBLI(ID),
CONSTRAINT FK_BKAUTHOR_AUTHOR FOREIGN KEY (AUTHORID) REFERENCES T_MT_AUTHOR(ID),
CONSTRAINT FK_BKTYPE_AUTHOR FOREIGN KEY (BOOKTYPE) REFERENCES T_MT_BKTYPE(ID)
);
--zbbms@20150401 create book table - END

--zbbms@20150401 create role table - START
CREATE TABLE T_MT_ROLE(
ID VARCHAR2(32),
ROLE VARCHAR2(30),
CD VARCHAR2(4),
CONSTRAINT PK_ROLE_ID PRIMARY KEY (ID),
CONSTRAINT UK_ROLE_CD UNIQUE(CD)
);
--zbbms@20150401 create role table - END

--zbbms@20150401 create employee table - START
CREATE TABLE T_MT_EMPLOYEE(
ID VARCHAR2(32),
NAME VARCHAR2(50),
DOB DATE,
ADDRESS VARCHAR2(80),
PHONE VARCHAR2(20),
EMAIL VARCHAR2(30),
SALARY NUMBER(7,2),
WORKING_HOURS NUMBER,
USERNAME VARCHAR2(20),
EPASSWORD VARCHAR2(20),
ROLE_ID VARCHAR2(32),
CD VARCHAR2(4),
CONSTRAINT PK_EMP_ID PRIMARY KEY(ID),
CONSTRAINT FK_ROLE_ID FOREIGN KEY(ROLE_ID) REFERENCES T_MT_ROLE(ID),
CONSTRAINT UK_EMP_CD UNIQUE(CD)
);
--zbbms@20150401 create employee table - END

--zbbms@20150401 create customer table - START
CREATE TABLE T_MT_CUSTOMER(
ID VARCHAR2(32),
NAME VARCHAR2(50),
DOB DATE,
ADDRESS VARCHAR2(80),
PHONE VARCHAR2(20),
EMAIL VARCHAR2(30),
MEMBERSHIP_PERIOD NUMBER,
JOIN_DATE DATE,
USERNAME VARCHAR2(20),
CPASSWORD VARCHAR2(20),
CD VARCHAR2(4),
CONSTRAINT PK_CUST_ID PRIMARY KEY(ID),
CONSTRAINT UK_CUST_CD UNIQUE(CD)
);
--zbbms@20150401 create customer table - END

--zbbms@20150401 create discount table - START
CREATE TABLE T_MT_DISCOUNT(
ID VARCHAR2(32),
TITLE VARCHAR2(50),
DISCTYPE VARCHAR2(20),
AMOUNT NUMBER,
DESCRIPTION VARCHAR2(50),
CD VARCHAR2(4),
CONSTRAINT PK_DISC_ID PRIMARY KEY(ID),
CONSTRAINT UK_DISC_CD UNIQUE(CD)
);
--zbbms@20150401 create discount table - END

--zbbms@20150401 create bktransaction table - START
CREATE TABLE T_TRANSACTION (
ID VARCHAR2(32),
CUSTOMER_ID VARCHAR2(32),
EMPLOYEE_ID VARCHAR2(32),
BOOK_ID VARCHAR2(32),
DISCOUNT_ID VARCHAR2(32),
TRAN_ID VARCHAR2(32),
DATE_COMMENCE DATE,
TOTAL_PAYMENT NUMBER(5,2),
CONSTRAINT PK_BKTRAN_ID PRIMARY KEY(ID),
CONSTRAINT FK_BKTRAN_CUST FOREIGN KEY (CUSTOMER_ID) REFERENCES T_MT_CUSTOMER(ID),
CONSTRAINT FK_BKTRAN_EMP FOREIGN KEY (EMPLOYEE_ID) REFERENCES T_MT_EMPLOYEE(ID),
CONSTRAINT FK_BKTRAN_BOOK FOREIGN KEY (BOOK_ID) REFERENCES T_MT_BOOK(ID),
CONSTRAINT FK_BKTRAN_DISC FOREIGN KEY (DISCOUNT_ID) REFERENCES T_MT_DISCOUNT(ID),
CONSTRAINT FK_BKTRAN_TYPE FOREIGN KEY (TRAN_ID) REFERENCES T_MT_TRANTYPE(ID)
);
--zbbms@20150401 create bktransaction table - END
